# 工作中遇到的问题 

### HTTPS请求报protocol_version错误

场景：我方回调工程将状态回传给接入方，发现请求协议版本错误。

原因：我方服务器JDK版本为1.7,对方用的是1.8。JDK1.8默认采用TLSv1.2初始化协议实例，JDK1.7默认采用TLSv1初始化。当双方SSL协议版本不一样，就会出现这样的错误。java想要调试可以在创建实例前，加上代码：

```java
System.setProperty("javax.net.debug", "all");
```

之后调试可以看到具体的握手日志。

解决办法：

1. 升级JDK到1.8

2. 配置指定协议

   ````java
    SSLContext ctx = SSLContext.getInstance("TLSv1.2");
   ````

   

### 接口文档整理

场景：混乱的接口文档分类，整体接口数量不清晰，接口对应具体业务处理不清晰，整套方案的接口梳理不严谨，文档中接口参数与程序中参数个数不一致，有很多接口是废弃的，哪些接口调用频繁，等等。

实际行动：

1. 根据工程中整理出所有接口名、所在包类、接口具体作用
2. 区分接口外部接口（供第三方调用）、前端调用接口（内部接口：页面、app调等前端）、第三方回调接口（内部接口：依赖第三方回调结果处理业务的接口，主要是支付回调、刷脸回调等）。
3. 外部接口再按业务分类区分（实名认证接口等）