## 加密算法

加密算法分为对称式和非对称式两种。对称式的是加密方和解密方都知道数据的加密规则，加密和解密使用同一个密钥。非对称加密是使用了两个密钥（私钥、公钥），A用私钥加密，B用对应公钥解密。A用公钥加密，B用对应的私钥解密。

散列算法，哈希函数。是一种单向的加密算法。一般做摘要计算，验证身份。不会用做加密。

~~~
加密一般比较：
1.加密密钥长度
2.加密模式
3.块加密的填充方式

加密模式：
	EBC：电子密本方式
	CBC：密文分组链接模式
	CFB：密文反馈模式
	OFB：输出反馈模式
	CTR：计数器模式
块加密的填充方式：
	NoPadding：数据长度不对齐时使用0填充，否则不填充
	PCKS7Padding：需要填充n个字节对齐，就填充n个字节
	PCKS5Padding：填充的块大小固定8个字节
~~~



### 对称加密算法

- #### DES、3DES、AES、RC5

  DES加密密钥长度是56位，3DES加密是用3个DES密钥对明文加密，密钥长度168位。在网上看到过有双倍密钥、三倍密钥的分类。双倍密钥可能加密采用一样的密钥，说的可能是有效密钥。暂时都按三个密钥来分析理解。

- #### AES

  AES加密密钥长度可以是128位、192位、256位，分组加密，加密轮数。一般会用RSA加密AES的密钥进行传输。

- #### RC5




### 非对称加密算法

- RSA


~~~
两个密钥（私钥、公钥）（密钥对）
两种方式：
私钥加密、公钥解密，
公钥加密、私钥解密。
对RSA分析也要从密钥长度，加密模式，填充方式分析

密钥长度：1024、2048、3072、4096bit等
明文长度：
密文长度：
~~~



### 摘要算法（哈希算法、散列算法）

摘要算法是不可逆的（单向函数），一般用于防篡改。将任意长度数据转换成固定长度的数据串（通常16进制）。可以用于一些敏感数据存储（密码等）。

MD5、SHA1、SHA256、MAC（不属于加密算法）

- #### MD5


~~~
MD5的计算结果是一个128位的长整数，字节表示就是16个字节，每个字节用16进制表示就是32个字符；
对安全性要求更高，可采用加盐方式。
~~~

- #### SHA


~~~
SHA1的计算结果是一个160位的摘要长度，换成16进制数据就是40位
SHA256的计算结果是一个256位的摘要长度，换成16进制数据是64位
~~~

- #### MAC


~~~
MAC结合了md5、sha加密优势，采用了密钥方式进行摘要计算。做消息摘要计算，需要把生成的密钥告诉接收方，接收方用同样的密钥进行摘要计算，再校验摘要。
~~~



### 附加文件的操作

- #### 通过命令获取文件哈希值


~~~shell
windows命令：
certutil -hashfile filename MD5 #获取MD5
certutil -hashfile filename SHA1  #获取SHA1
certutil -hashfile filename SHA256  #获取SHA256

linux命令：
md5sum filename
shasum filename
sha1sum filename
sha224sum filename
sha256sum filename
sha384sum filename
sha512sum filename

mac命令：
md5 /Users/hayashika/Desktop/软考/企业信息化战略与实施.docx;
shasum filename; ##默认sha1
shasum -a 256 /Users/hayashika/Desktop/软考/企业信息化战略与实施.docx; ##-a指定256哈希
~~~

### 国密算法

国密即国家密码局认定的国产密码算法。主要有SM1、SM2、SM3、SM4。密钥长度和分组长度均为128位。

1. SM1对称加密。算法不公开，调用该算法需要通过加密芯片的接口。（DES 3DES AES）
2. SM2为非对称加密，基于ECC。算法已公开。由于该算法基于ECC，签名速度与密钥生成速度都快于RSA。ECC 256位的安全强度比RSA 2048位高，运算速度快于RSA。（RSA）
3. SM3摘要算法。校验结果为256位。（MD5 SHA-1 SHA-256）
4. SM4无线局域网标准的分组数据算法。对称加密，密钥长度和分组长度均为128位。（DES 3DES AES）

- #### ECC椭圆曲线算法




## PKI体系

PKI（Public Key Infranstructure）公钥基础设施，非对称密钥管理标准化。绑定证书持有者的身份和相关的密钥对。为用户提供证书申请、证书作废、证书获取、证书状态查询，并利用数字证书（CA证书）及相关的各种服务（证书发布、黑名单发布，时间戳服务等）实现通信中各实体的身份认证、完整性、抗抵赖性和保密性。

### 数字证书

数字证书是PKI技术的现实载体，通过数字证书我们可以实现身份认证、信息加密、签名等一系列安全操作。

网络世界的电子身份证

数字签名相关信息：

![image-20200805164443717](D:\log\日志记录\img\image-20200805164443717.png)

拥有者拥有证书公钥对应的私钥

由可信的机构颁发（上海CA、深圳CA）

颁发机构对证书进行签名

### PKI基本组件

完整的PKI系统必须具有数字证书、认证中心（CA）、证书资料库、证书吊销系统、密钥备份及恢复系统、PKI应用接口等构成部分。



### TLS服务安全部署

时间戳是指格林威治时间1970年01月01日00时00分00秒(北京时间1970年01月01日08时00分00秒)起至现在的总秒数。数字时间戳技术就是数字签名技术的一种变种应用。

1. 用户首先获取文件的哈希值，结果加密成摘要。
2. 将摘要发送到时间戳服务器
3. 时间戳服务器在接收到的摘要加上标准时间信息。
4. 再对加入日期的摘要数字签名返回。

### X.509证书

X.509格式证书是一种数字证书标准，标志通讯各方身份的一系列数据。



 ![image-20200805165934190](D:\log\日志记录\img\image-20200805165934190.png)

